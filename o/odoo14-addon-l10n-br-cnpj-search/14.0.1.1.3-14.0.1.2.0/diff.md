# Comparing `tmp/odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3-py3-none-any.whl.zip` & `tmp/odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,41 +1,45 @@
-Zip file size: 297277 bytes, number of entries: 39
--rw-r--r--  2.0 unx     4577 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/README.rst
--rw-r--r--  2.0 unx       87 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/__init__.py
--rw-r--r--  2.0 unx      680 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/__manifest__.py
--rw-r--r--  2.0 unx     2703 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/data/serpro_qualificacao.csv
--rw-r--r--  2.0 unx     7617 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/i18n/l10n_br_cnpj_search.pot
--rw-r--r--  2.0 unx      287 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/models/__init__.py
--rw-r--r--  2.0 unx     3612 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/models/cnpj_webservice.py
--rw-r--r--  2.0 unx     1404 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/models/l10n_br_base_party_mixin.py
--rw-r--r--  2.0 unx     4040 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/models/receitaws_webservice.py
--rw-r--r--  2.0 unx      673 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/models/res_company.py
--rw-r--r--  2.0 unx     1067 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/models/res_config_settings.py
--rw-r--r--  2.0 unx      863 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/models/res_partner.py
--rw-r--r--  2.0 unx     5344 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/models/serpro_webservice.py
--rw-r--r--  2.0 unx      289 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx       87 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      859 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/readme/HISTORY.rst
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/readme/INSTALL.rst
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/readme/ROADMAP.rst
--rw-r--r--  2.0 unx      354 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/readme/USAGE.rst
--rw-r--r--  2.0 unx      223 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/security/ir.model.access.csv
--rw-r--r--  2.0 unx     9455 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/static/description/icon.png
--rw-r--r--  2.0 unx    14301 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/static/description/index.html
--rw-r--r--  2.0 unx    63240 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/static/description/receita.png
--rw-r--r--  2.0 unx    55502 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/static/description/receita1.png
--rw-r--r--  2.0 unx    38255 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/static/description/receita2.png
--rw-r--r--  2.0 unx    75072 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/static/description/serpro.png
--rw-r--r--  2.0 unx    45687 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/static/description/serpro1.png
--rw-r--r--  2.0 unx      142 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/tests/__init__.py
--rw-r--r--  2.0 unx      485 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/tests/common.py
--rw-r--r--  2.0 unx     2235 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/tests/test_receitaws.py
--rw-r--r--  2.0 unx    11595 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/tests/test_serpro.py
--rw-r--r--  2.0 unx     1417 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/views/res_company_view.xml
--rw-r--r--  2.0 unx     3128 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/views/res_config_settings_view.xml
--rw-r--r--  2.0 unx     1630 b- defN 23-Jun-26 14:06 odoo/addons/l10n_br_cnpj_search/views/res_partner_view.xml
--rw-r--r--  2.0 unx     5223 b- defN 23-Jun-26 14:07 odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-26 14:07 odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jun-26 14:07 odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     4344 b- defN 23-Jun-26 14:07 odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/RECORD
-39 files, 366574 bytes uncompressed, 289899 bytes compressed:  20.9%
+Zip file size: 301809 bytes, number of entries: 43
+-rw-r--r--  2.0 unx     4577 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/README.rst
+-rw-r--r--  2.0 unx       87 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/__init__.py
+-rw-r--r--  2.0 unx      680 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/__manifest__.py
+-rw-r--r--  2.0 unx     2703 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/data/serpro_qualificacao.csv
+-rw-r--r--  2.0 unx     7617 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/i18n/l10n_br_cnpj_search.pot
+-rw-r--r--  2.0 unx      287 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/models/__init__.py
+-rw-r--r--  2.0 unx     3612 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/models/cnpj_webservice.py
+-rw-r--r--  2.0 unx     1404 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/models/l10n_br_base_party_mixin.py
+-rw-r--r--  2.0 unx     4040 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/models/receitaws_webservice.py
+-rw-r--r--  2.0 unx      673 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/models/res_company.py
+-rw-r--r--  2.0 unx     1067 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/models/res_config_settings.py
+-rw-r--r--  2.0 unx      863 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/models/res_partner.py
+-rw-r--r--  2.0 unx     5344 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/models/serpro_webservice.py
+-rw-r--r--  2.0 unx      289 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx       87 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      859 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/readme/HISTORY.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/readme/INSTALL.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx      354 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/readme/USAGE.rst
+-rw-r--r--  2.0 unx      223 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/static/description/icon.png
+-rw-r--r--  2.0 unx    14301 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/static/description/index.html
+-rw-r--r--  2.0 unx    63240 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/static/description/receita.png
+-rw-r--r--  2.0 unx    55502 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/static/description/receita1.png
+-rw-r--r--  2.0 unx    38255 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/static/description/receita2.png
+-rw-r--r--  2.0 unx    75072 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/static/description/serpro.png
+-rw-r--r--  2.0 unx    45687 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/static/description/serpro1.png
+-rw-r--r--  2.0 unx      142 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/tests/__init__.py
+-rw-r--r--  2.0 unx      485 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/tests/common.py
+-rw-r--r--  2.0 unx     2235 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/tests/test_receitaws.py
+-rw-r--r--  2.0 unx     5776 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/tests/test_serpro.py
+-rw-r--r--  2.0 unx     2606 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_basica.yaml
+-rw-r--r--  2.0 unx     4144 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_empresa.yaml
+-rw-r--r--  2.0 unx     1699 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_not_found.yaml
+-rw-r--r--  2.0 unx     3739 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_qsa.yaml
+-rw-r--r--  2.0 unx     1417 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/views/res_company_view.xml
+-rw-r--r--  2.0 unx     3128 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/views/res_config_settings_view.xml
+-rw-r--r--  2.0 unx     1630 b- defN 23-Jun-30 18:43 odoo/addons/l10n_br_cnpj_search/views/res_partner_view.xml
+-rw-r--r--  2.0 unx     5223 b- defN 23-Jun-30 18:43 odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-30 18:43 odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-30 18:43 odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4852 b- defN 23-Jun-30 18:43 odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/RECORD
+43 files, 373451 bytes uncompressed, 293565 bytes compressed:  21.4%
```

## zipnote {}

```diff
@@ -90,29 +90,41 @@
 
 Filename: odoo/addons/l10n_br_cnpj_search/tests/test_receitaws.py
 Comment: 
 
 Filename: odoo/addons/l10n_br_cnpj_search/tests/test_serpro.py
 Comment: 
 
+Filename: odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_basica.yaml
+Comment: 
+
+Filename: odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_empresa.yaml
+Comment: 
+
+Filename: odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_not_found.yaml
+Comment: 
+
+Filename: odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_qsa.yaml
+Comment: 
+
 Filename: odoo/addons/l10n_br_cnpj_search/views/res_company_view.xml
 Comment: 
 
 Filename: odoo/addons/l10n_br_cnpj_search/views/res_config_settings_view.xml
 Comment: 
 
 Filename: odoo/addons/l10n_br_cnpj_search/views/res_partner_view.xml
 Comment: 
 
-Filename: odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/METADATA
+Filename: odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/WHEEL
+Filename: odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/top_level.txt
+Filename: odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/RECORD
+Filename: odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/l10n_br_cnpj_search/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright 2023 KMEE
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "Brazilian Localization CNPJ Search",
     "summary": """
         Integração com os Webservices da ReceitaWS e SerPro""",
-    "version": "14.0.1.1.3",
+    "version": "14.0.1.2.0",
     "license": "AGPL-3",
     "author": "KMEE,Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/l10n-brazil",
     "depends": [
         "l10n_br_zip",
         "l10n_br_fiscal",
         "contacts",
```

## odoo/addons/l10n_br_cnpj_search/tests/test_serpro.py

```diff
@@ -1,202 +1,39 @@
 # Copyright 2022 KMEE
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 import logging
+import os
 import time  # You can't send multiple requests at the same time in trial version
-from datetime import datetime
-from os import environ
-from unittest import mock
 
-from decorator import decorate
+import vcr
 
 from odoo.exceptions import ValidationError
 from odoo.tests import tagged
 
 from .common import TestCnpjCommon
 
 _logger = logging.getLogger(__name__)
 
 
-def _not_every_day_test(method, self, modulo=7, remaining=0):
-    if datetime.now().day % modulo == remaining:
-        return method(self)
-    elif environ.get("CI_FORCE_serpro"):
-        return method(self)
-    else:
-        return lambda: _logger.info(
-            "Skipping test today because datetime.now().day %% %s != %s"
-            % (modulo, remaining)
-        )
-
-
-def not_every_day_test(method):
-    """
-    Decorate test methods to query the SERPRO only
-    1 day out of 7 and skip tests otherwise in order to prevent
-    errors in the API to disrupt the tests from l10n-br test suite.
-    The CI_FORCE_serpro env var can be set to force the test anyhow.
-    """
-    return decorate(method, _not_every_day_test)
-
-
-def mocked_requests_get(*args, **kwargs):
-    class MockResponse:
-        def __init__(self, json_data, status_code):
-            self.json_data = json_data
-            self.status_code = status_code
-
-        def ok(self):
-            return True
-
-        def json(self):
-            return self.json_data
-
-    return MockResponse(
-        {
-            "ni": "34238864000168",
-            "tipoEstabelecimento": "1",
-            "nomeEmpresarial": "UHIEQKX WHNHIWD NH  FIXKHUUWPHMVX NH NWNXU (UHIFIX)",
-            "nomeFantasia": "UHIFIX UHNH",
-            "situacaoCadastral": {"codigo": "2", "data": "2019-06-19", "motivo": ""},
-            "naturezaJuridica": {"codigo": "2011", "descricao": "Empresa Pública"},
-            "dataAbertura": "1967-06-30",
-            "cnaePrincipal": {
-                "codigo": "6204000",
-                "descricao": "Consultoria em tecnologia da informação",
-            },
-            "endereco": {
-                "tipoLogradouro": "SETOR",
-                "logradouro": "NH BIWMNH WIHW MXIVH",
-                "numero": "Q.601",
-                "complemento": "LOTE V",
-                "cep": "70836900",
-                "bairro": "ASA NORTE",
-                "municipio": {"codigo": "9701", "descricao": "BRASILIA"},
-                "uf": "DF",
-                "pais": {"codigo": "105", "descricao": "BRASIL"},
-            },
-            "municipioJurisdicao": {"codigo": "0110100", "descricao": "BRASÍLIA"},
-            "telefones": [
-                {"ddd": "61", "numero": "22222222"},
-                {"ddd": "61", "numero": "33333333"},
-            ],
-            "correioEletronico": "EMPRESA@EMPRESA.BR",
-            "capitalSocial": 0,
-            "porte": "05",
-            "situacaoEspecial": "",
-            "dataSituacaoEspecial": "",
-            "informacoesAdicionais": {},
-            "socios": [
-                {
-                    "tipoSocio": "2",
-                    "cpf": "07119488449",
-                    "nome": "LUIZA ARAUJO DE OLIVEIRA",
-                    "qualificacao": "49",
-                    "dataInclusao": "2014-01-01",
-                    "pais": {"codigo": "105", "descricao": "BRASIL"},
-                    "representanteLegal": {
-                        "cpf": "00000000000",
-                        "nome": "",
-                        "qualificacao": "00",
-                    },
-                },
-                {
-                    "tipoSocio": "2",
-                    "cpf": "23982012600",
-                    "nome": "JOANA ALVES MUNDIM PENA",
-                    "qualificacao": "49",
-                    "dataInclusao": "2014-01-01",
-                    "pais": {"codigo": "105", "descricao": "BRASIL"},
-                    "representanteLegal": {
-                        "cpf": "00000000000",
-                        "nome": "",
-                        "qualificacao": "00",
-                    },
-                },
-                {
-                    "tipoSocio": "2",
-                    "cpf": "13946994415",
-                    "nome": "LUIZA BARBOSA BEZERRA",
-                    "qualificacao": "49",
-                    "dataInclusao": "2014-01-01",
-                    "pais": {"codigo": "105", "descricao": "BRASIL"},
-                    "representanteLegal": {
-                        "cpf": "00000000000",
-                        "nome": "",
-                        "qualificacao": "00",
-                    },
-                },
-                {
-                    "tipoSocio": "2",
-                    "cpf": "00031298702",
-                    "nome": "MARCELO ANTONIO BARROS DE CICCO",
-                    "qualificacao": "49",
-                    "dataInclusao": "2014-01-01",
-                    "pais": {"codigo": "105", "descricao": "BRASIL"},
-                    "representanteLegal": {
-                        "cpf": "00000000000",
-                        "nome": "",
-                        "qualificacao": "00",
-                    },
-                },
-                {
-                    "tipoSocio": "2",
-                    "cpf": "76822320300",
-                    "nome": "LUIZA ALDENORA",
-                    "qualificacao": "49",
-                    "dataInclusao": "2014-01-01",
-                    "pais": {"codigo": "105", "descricao": "BRASIL"},
-                    "representanteLegal": {
-                        "cpf": "00000000000",
-                        "nome": "",
-                        "qualificacao": "00",
-                    },
-                },
-            ],
-        }
-    )
-
-
 @tagged("post_install", "-at_install")
 class TestTestSerPro(TestCnpjCommon):
     def setUp(self):
         super(TestTestSerPro, self).setUp()
 
         self.set_param("cnpj_provider", "serpro")
         self.set_param("serpro_token", "06aef429-a981-3ec5-a1f8-71d38d86481e")
         self.set_param("serpro_trial", True)
         self.set_param("serpro_schema", "basica")
 
-    @mock.patch("requests.get", side_effect=mocked_requests_get)
-    def test_mock(self, mock_get):
-        self.model.search([("cnpj_cpf", "=", "34.238.864/0001-68")]).unlink()
-        self.set_param("serpro_schema", "empresa")
-
-        dummy_empresa = self.model.create(
-            {"name": "Dummy Empresa", "cnpj_cpf": "34.238.864/0001-68"}
-        )
-
-        time.sleep(3)  # Pause
-        dummy_empresa._onchange_cnpj_cpf()
-        dummy_empresa.search_cnpj()
-        self.assertEqual(dummy_empresa.name, "Uhifix Uhnh")
-        self.assertEqual(dummy_empresa.email, "EMPRESA@EMPRESA.BR")
-        self.assertEqual(dummy_empresa.street_name, "Nh Biwmnh Wihw Mxivh")
-        self.assertEqual(dummy_empresa.street2, "Lote V")
-        self.assertEqual(dummy_empresa.street_number, "Q.601")
-        self.assertEqual(dummy_empresa.zip, "70836900")
-        self.assertEqual(dummy_empresa.district, "Asa Norte")
-        self.assertEqual(dummy_empresa.phone, "(61) 22222222")
-        self.assertEqual(dummy_empresa.mobile, "(61) 33333333")
-        self.assertEqual(dummy_empresa.state_id.code, "DF")
-        self.assertEqual(dummy_empresa.equity_capital, 0)
-        self.assertEqual(dummy_empresa.cnae_main_id.code, "6204-0/00")
-
-    @not_every_day_test
+    @vcr.use_cassette(
+        os.path.dirname(__file__) + "/fixtures/test_serpro_basica.yaml",
+        match_on=["method", "scheme", "host", "port", "path", "query", "body"],
+        ignore_localhost=True,
+    )
     def test_serpro_basica(self):
         dummy_basica = self.model.create(
             {"name": "Dummy Basica", "cnpj_cpf": "34.238.864/0001-68"}
         )
         time.sleep(3)
         dummy_basica._onchange_cnpj_cpf()
         dummy_basica.search_cnpj()
@@ -215,15 +52,19 @@
         self.assertEqual(dummy_basica.district, "Asa Norte")
         self.assertEqual(dummy_basica.phone, "(61) 22222222")
         self.assertEqual(dummy_basica.mobile, "(61) 22222222")
         self.assertEqual(dummy_basica.state_id.code, "DF")
         self.assertEqual(dummy_basica.equity_capital, 0)
         self.assertEqual(dummy_basica.cnae_main_id.code, "6204-0/00")
 
-    @not_every_day_test
+    @vcr.use_cassette(
+        os.path.dirname(__file__) + "/fixtures/test_serpro_not_found.yaml",
+        match_on=["method", "scheme", "host", "port", "path", "query", "body"],
+        ignore_localhost=True,
+    )
     def test_serpro_not_found(self):
         # Na versão Trial só há alguns registros de CNPJ cadastrados
         invalid = self.model.create(
             {"name": "invalid", "cnpj_cpf": "44.356.113/0001-08"}
         )
         invalid._onchange_cnpj_cpf()
 
@@ -266,15 +107,19 @@
                 "cnpj_cpf": expected_cnpjs["Marcelo"],
                 "company_type": "person",
             },
         ]
 
         self.assertEqual(socios, expected_socios)
 
-    @not_every_day_test
+    @vcr.use_cassette(
+        os.path.dirname(__file__) + "/fixtures/test_serpro_empresa.yaml",
+        match_on=["method", "scheme", "host", "port", "path", "query", "body"],
+        ignore_localhost=True,
+    )
     def test_serpro_empresa(self):
         self.model.search([("cnpj_cpf", "=", "34.238.864/0001-68")]).write(
             {"active": False}
         )
         self.set_param("serpro_schema", "empresa")
 
         dummy_empresa = self.model.create(
@@ -291,15 +136,19 @@
             "Araujo": "07119488449",
             "Barbosa": "13946994415",
             "Marcelo": "00031298702",
         }
 
         self.assert_socios(dummy_empresa, expected_cnpjs)
 
-    @not_every_day_test
+    @vcr.use_cassette(
+        os.path.dirname(__file__) + "/fixtures/test_serpro_qsa.yaml",
+        match_on=["method", "scheme", "host", "port", "path", "query", "body"],
+        ignore_localhost=True,
+    )
     def test_serpro_qsa(self):
         self.model.search([("cnpj_cpf", "=", "34.238.864/0001-68")]).write(
             {"active": False}
         )
         self.set_param("serpro_schema", "qsa")
 
         dummy_qsa = self.model.create(
```

## Comparing `odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/METADATA` & `odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-l10n-br-cnpj-search
-Version: 14.0.1.1.3
+Version: 14.0.1.2.0
 Summary: Integração com os Webservices da ReceitaWS e SerPro
 Home-page: https://github.com/OCA/l10n-brazil
 Author: KMEE,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/RECORD` & `odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 odoo/addons/l10n_br_cnpj_search/README.rst,sha256=ejGdc1pLeXdtmD2zsbIrctq_Gjmlmzc_mxyhZl6JbPM,4577
 odoo/addons/l10n_br_cnpj_search/__init__.py,sha256=eShEGRadAlxopoLqIQ4-N42FM7MWPSuBe0h_l1cXTPM,87
-odoo/addons/l10n_br_cnpj_search/__manifest__.py,sha256=dttHv6jBXGWm10xXFAIe8cHA96c_nzc4VboP7jspGt0,680
+odoo/addons/l10n_br_cnpj_search/__manifest__.py,sha256=cWIH61swTuQ5PwHH4svLQ09_LfNoaBuaAcXjtrcouxQ,680
 odoo/addons/l10n_br_cnpj_search/data/serpro_qualificacao.csv,sha256=wVeFfGi2r484cXOmODPWCymYhJQwt87-BJakXdR-ml8,2703
 odoo/addons/l10n_br_cnpj_search/i18n/l10n_br_cnpj_search.pot,sha256=e98g08a9USh6w7TQ-D1if83wCcnu2eCt959jF4lAFFA,7617
 odoo/addons/l10n_br_cnpj_search/models/__init__.py,sha256=cZcvFGx9iEJfCks2jOuIkdSSGh3jLDsElgfVvFpBAK4,287
 odoo/addons/l10n_br_cnpj_search/models/cnpj_webservice.py,sha256=AYAGiRCOoKK-Z2cJi15KOxMy94Qb9IKmnzpcky3vgXQ,3612
 odoo/addons/l10n_br_cnpj_search/models/l10n_br_base_party_mixin.py,sha256=tP8f9835lQrdXPJ12LZxjn-W0ity7i16OqmiVNn1uGY,1404
 odoo/addons/l10n_br_cnpj_search/models/receitaws_webservice.py,sha256=db-OO5zDphJSG9fZT-OhS8Z3pEIBSnV9SLv2TujLOIQ,4040
 odoo/addons/l10n_br_cnpj_search/models/res_company.py,sha256=xuo_geaiwofPx6OIadcoAIEIdCgvtKfeF3Gk9aysPl0,673
@@ -25,15 +25,19 @@
 odoo/addons/l10n_br_cnpj_search/static/description/receita1.png,sha256=OdytoQvPgm-THAIpHtGzOnXp__F7dPk2RZa4vomTb3Y,55502
 odoo/addons/l10n_br_cnpj_search/static/description/receita2.png,sha256=7tvqMooPTLoGShhwI3itl2-KDjT7UuQ9nhfwb72zicI,38255
 odoo/addons/l10n_br_cnpj_search/static/description/serpro.png,sha256=aOxvVR5E-3baI2vQRWdh0S_UjqN9A8h0pupbo1Gacjg,75072
 odoo/addons/l10n_br_cnpj_search/static/description/serpro1.png,sha256=dAslLP7rVyQgdm_TXM6grcdtyCKWEzp0gOfvny1jul0,45687
 odoo/addons/l10n_br_cnpj_search/tests/__init__.py,sha256=8DYX3UI6RVuyYBtJ_oIEaSQry8qjnHt1hCB-C52ifB8,142
 odoo/addons/l10n_br_cnpj_search/tests/common.py,sha256=dNHreqa9ghqL-jMnLixQy2JiAR6viJek779K2kkoS8k,485
 odoo/addons/l10n_br_cnpj_search/tests/test_receitaws.py,sha256=uiJERkAGutN4gVM0-E4e0KpotsPFKbPxyfznI4daNeY,2235
-odoo/addons/l10n_br_cnpj_search/tests/test_serpro.py,sha256=d9FFxIf_6-YViQtwzvxu3rKI4nA1e9IIHyqkFm2e5pM,11595
+odoo/addons/l10n_br_cnpj_search/tests/test_serpro.py,sha256=j-irqJucxw3ZaA9AVk-L7NY6YMot-tEn5aiP89Qm7Ko,5776
+odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_basica.yaml,sha256=nH0NDleewXStWA4Q2v1wnLe7YaNBZhHYYtLv4vO1vDk,2606
+odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_empresa.yaml,sha256=VzPF2MFoSQJ9k491dxBu5Z_AUcFLERhHzc9OCatBulo,4144
+odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_not_found.yaml,sha256=iqbl9P4TeC099oWgBVhGI1M80R9PP332FddRsGQRBt4,1699
+odoo/addons/l10n_br_cnpj_search/tests/fixtures/test_serpro_qsa.yaml,sha256=-_tLQNDsUVUtkooY4aoB6gwJYFu9Ki9WYcbxYvNHI4c,3739
 odoo/addons/l10n_br_cnpj_search/views/res_company_view.xml,sha256=SY0p59RriUnmlxmQ18hrMWbX74RLCVW6tOtoSR1DRUk,1417
 odoo/addons/l10n_br_cnpj_search/views/res_config_settings_view.xml,sha256=vI-ONVSsFjclt4asGZmRQsmU6MxTLiCCjGQ6WI5TL9c,3128
 odoo/addons/l10n_br_cnpj_search/views/res_partner_view.xml,sha256=oQMSNhTUfWhfeYNiBlnhYKd7lRtdnmPyE_X3NfzgvtE,1630
-odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/METADATA,sha256=TNdGviOcJG6E01enGGL8NSHV0wIWvB5d3kKMGT1dlYY,5223
-odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_l10n_br_cnpj_search-14.0.1.1.3.dist-info/RECORD,,
+odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/METADATA,sha256=bWdvkEDsePscGG2El4bAPp3LhjJbXRyI9dwK1R806-s,5223
+odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_l10n_br_cnpj_search-14.0.1.2.0.dist-info/RECORD,,
```

