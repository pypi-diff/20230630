# Comparing `tmp/odoo_addon_queue_job-16.0.2.4.0-py3-none-any.whl.zip` & `tmp/odoo_addon_queue_job-16.0.2.5.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,74 +1,74 @@
-Zip file size: 295136 bytes, number of entries: 72
--rw-r--r--  2.0 unx    23361 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/README.rst
--rw-r--r--  2.0 unx      235 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/__init__.py
--rw-r--r--  2.0 unx     1174 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/__manifest__.py
--rw-r--r--  2.0 unx    19677 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/delay.py
--rw-r--r--  2.0 unx     1167 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/exception.py
--rw-r--r--  2.0 unx     4316 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/fields.py
--rw-r--r--  2.0 unx    27668 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/job.py
--rw-r--r--  2.0 unx     1087 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/post_init_hook.py
--rw-r--r--  2.0 unx      720 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/post_load.py
--rw-r--r--  2.0 unx     1269 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/utils.py
--rw-r--r--  2.0 unx       19 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/controllers/__init__.py
--rw-r--r--  2.0 unx     9783 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/controllers/main.py
--rw-r--r--  2.0 unx     1651 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/data/queue_data.xml
--rw-r--r--  2.0 unx      233 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/data/queue_job_function_data.xml
--rw-r--r--  2.0 unx    32200 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/i18n/de.po
--rw-r--r--  2.0 unx    34156 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/i18n/es.po
--rw-r--r--  2.0 unx    28459 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/i18n/queue_job.pot
--rw-r--r--  2.0 unx    31022 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/i18n/zh_CN.po
--rw-r--r--  2.0 unx     4806 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/jobrunner/__init__.py
--rw-r--r--  2.0 unx      209 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/jobrunner/__main__.py
--rw-r--r--  2.0 unx    36655 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/jobrunner/channels.py
--rw-r--r--  2.0 unx    18574 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/jobrunner/runner.py
--rw-r--r--  2.0 unx     1371 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/migrations/15.0.1.1.0/post-migration.py
--rw-r--r--  2.0 unx      902 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/migrations/15.0.1.1.0/pre-migration.py
--rw-r--r--  2.0 unx      138 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/models/__init__.py
--rw-r--r--  2.0 unx    10177 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/models/base.py
--rw-r--r--  2.0 unx      346 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/models/ir_model_fields.py
--rw-r--r--  2.0 unx    18032 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/models/queue_job.py
--rw-r--r--  2.0 unx     3417 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/models/queue_job_channel.py
--rw-r--r--  2.0 unx     9426 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/models/queue_job_function.py
--rw-r--r--  2.0 unx     1239 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      544 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx     1568 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      805 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/readme/HISTORY.rst
--rw-r--r--  2.0 unx       42 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/readme/INSTALL.rst
--rw-r--r--  2.0 unx     1000 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/readme/ROADMAP.rst
--rw-r--r--  2.0 unx    15352 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/readme/USAGE.rst
--rw-r--r--  2.0 unx      864 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/security/ir.model.access.csv
--rw-r--r--  2.0 unx     1051 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/security/security.xml
--rw-r--r--  2.0 unx     4357 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/static/description/icon.png
--rw-r--r--  2.0 unx     2312 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/static/description/icon.svg
--rw-r--r--  2.0 unx    60521 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/static/description/index.html
--rw-r--r--  2.0 unx   220163 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/static/lib/vis/vis-network.min.css
--rw-r--r--  2.0 unx   461407 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/static/lib/vis/vis-network.min.js
--rw-r--r--  2.0 unx     4207 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/static/src/views/fields/job_direct_graph/job_direct_graph.esm.js
--rw-r--r--  2.0 unx      171 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/static/src/views/fields/job_direct_graph/job_direct_graph.scss
--rw-r--r--  2.0 unx      207 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/static/src/views/fields/job_direct_graph/job_direct_graph.xml
--rw-r--r--  2.0 unx      274 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/__init__.py
--rw-r--r--  2.0 unx    15049 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/common.py
--rw-r--r--  2.0 unx    10049 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/test_delayable.py
--rw-r--r--  2.0 unx     5918 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/test_json_field.py
--rw-r--r--  2.0 unx     2280 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/test_model_job_channel.py
--rw-r--r--  2.0 unx     2284 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/test_model_job_function.py
--rw-r--r--  2.0 unx      943 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/test_queue_job_protected_write.py
--rw-r--r--  2.0 unx      354 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/test_runner_channels.py
--rw-r--r--  2.0 unx      350 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/test_runner_runner.py
--rw-r--r--  2.0 unx     1420 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/tests/test_wizards.py
--rw-r--r--  2.0 unx     2158 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/views/queue_job_channel_views.xml
--rw-r--r--  2.0 unx     2186 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/views/queue_job_function_views.xml
--rw-r--r--  2.0 unx      746 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/views/queue_job_menus.xml
--rw-r--r--  2.0 unx    12869 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/views/queue_job_views.xml
--rw-r--r--  2.0 unx      103 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/wizards/__init__.py
--rw-r--r--  2.0 unx      531 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/wizards/queue_jobs_to_cancelled.py
--rw-r--r--  2.0 unx     1276 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/wizards/queue_jobs_to_cancelled_views.xml
--rw-r--r--  2.0 unx      429 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/wizards/queue_jobs_to_done.py
--rw-r--r--  2.0 unx     1281 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/wizards/queue_jobs_to_done_views.xml
--rw-r--r--  2.0 unx      765 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/wizards/queue_requeue_job.py
--rw-r--r--  2.0 unx     1256 b- defN 23-Jun-02 12:38 odoo/addons/queue_job/wizards/queue_requeue_job_views.xml
--rw-r--r--  2.0 unx    23960 b- defN 23-Jun-02 12:38 odoo_addon_queue_job-16.0.2.4.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-02 12:38 odoo_addon_queue_job-16.0.2.4.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jun-02 12:38 odoo_addon_queue_job-16.0.2.4.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     7397 b- defN 23-Jun-02 12:38 odoo_addon_queue_job-16.0.2.4.0.dist-info/RECORD
-72 files, 1192035 bytes uncompressed, 282930 bytes compressed:  76.3%
+Zip file size: 295250 bytes, number of entries: 72
+-rw-r--r--  2.0 unx    23361 b- defN 23-Jun-30 07:51 odoo/addons/queue_job/README.rst
+-rw-r--r--  2.0 unx      235 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/__init__.py
+-rw-r--r--  2.0 unx     1174 b- defN 23-Jun-30 07:51 odoo/addons/queue_job/__manifest__.py
+-rw-r--r--  2.0 unx    19677 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/delay.py
+-rw-r--r--  2.0 unx     1167 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/exception.py
+-rw-r--r--  2.0 unx     4316 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/fields.py
+-rw-r--r--  2.0 unx    27668 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/job.py
+-rw-r--r--  2.0 unx     1087 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/post_init_hook.py
+-rw-r--r--  2.0 unx      720 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/post_load.py
+-rw-r--r--  2.0 unx     1269 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/utils.py
+-rw-r--r--  2.0 unx       19 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/controllers/__init__.py
+-rw-r--r--  2.0 unx     9783 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/controllers/main.py
+-rw-r--r--  2.0 unx     1651 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/data/queue_data.xml
+-rw-r--r--  2.0 unx      233 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/data/queue_job_function_data.xml
+-rw-r--r--  2.0 unx    32200 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/i18n/de.po
+-rw-r--r--  2.0 unx    34156 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/i18n/es.po
+-rw-r--r--  2.0 unx    28459 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/i18n/queue_job.pot
+-rw-r--r--  2.0 unx    31022 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/i18n/zh_CN.po
+-rw-r--r--  2.0 unx     4806 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/jobrunner/__init__.py
+-rw-r--r--  2.0 unx      209 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/jobrunner/__main__.py
+-rw-r--r--  2.0 unx    36655 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/jobrunner/channels.py
+-rw-r--r--  2.0 unx    18946 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/jobrunner/runner.py
+-rw-r--r--  2.0 unx     1371 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/migrations/15.0.1.1.0/post-migration.py
+-rw-r--r--  2.0 unx      902 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/migrations/15.0.1.1.0/pre-migration.py
+-rw-r--r--  2.0 unx      138 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/models/__init__.py
+-rw-r--r--  2.0 unx    10177 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/models/base.py
+-rw-r--r--  2.0 unx      346 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/models/ir_model_fields.py
+-rw-r--r--  2.0 unx    18032 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/models/queue_job.py
+-rw-r--r--  2.0 unx     3417 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/models/queue_job_channel.py
+-rw-r--r--  2.0 unx     9426 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/models/queue_job_function.py
+-rw-r--r--  2.0 unx     1239 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      544 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx     1568 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      805 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/readme/HISTORY.rst
+-rw-r--r--  2.0 unx       42 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/readme/INSTALL.rst
+-rw-r--r--  2.0 unx     1000 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx    15352 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/readme/USAGE.rst
+-rw-r--r--  2.0 unx      864 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     1051 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/security/security.xml
+-rw-r--r--  2.0 unx     4357 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/static/description/icon.png
+-rw-r--r--  2.0 unx     2312 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/static/description/icon.svg
+-rw-r--r--  2.0 unx    60521 b- defN 23-Jun-30 07:51 odoo/addons/queue_job/static/description/index.html
+-rw-r--r--  2.0 unx   220163 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/static/lib/vis/vis-network.min.css
+-rw-r--r--  2.0 unx   461407 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/static/lib/vis/vis-network.min.js
+-rw-r--r--  2.0 unx     4207 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/static/src/views/fields/job_direct_graph/job_direct_graph.esm.js
+-rw-r--r--  2.0 unx      171 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/static/src/views/fields/job_direct_graph/job_direct_graph.scss
+-rw-r--r--  2.0 unx      207 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/static/src/views/fields/job_direct_graph/job_direct_graph.xml
+-rw-r--r--  2.0 unx      274 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/__init__.py
+-rw-r--r--  2.0 unx    15049 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/common.py
+-rw-r--r--  2.0 unx    10049 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/test_delayable.py
+-rw-r--r--  2.0 unx     5918 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/test_json_field.py
+-rw-r--r--  2.0 unx     2280 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/test_model_job_channel.py
+-rw-r--r--  2.0 unx     2284 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/test_model_job_function.py
+-rw-r--r--  2.0 unx      943 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/test_queue_job_protected_write.py
+-rw-r--r--  2.0 unx      354 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/test_runner_channels.py
+-rw-r--r--  2.0 unx      350 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/test_runner_runner.py
+-rw-r--r--  2.0 unx     1420 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/tests/test_wizards.py
+-rw-r--r--  2.0 unx     2158 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/views/queue_job_channel_views.xml
+-rw-r--r--  2.0 unx     2186 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/views/queue_job_function_views.xml
+-rw-r--r--  2.0 unx      746 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/views/queue_job_menus.xml
+-rw-r--r--  2.0 unx    12869 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/views/queue_job_views.xml
+-rw-r--r--  2.0 unx      103 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/wizards/__init__.py
+-rw-r--r--  2.0 unx      531 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/wizards/queue_jobs_to_cancelled.py
+-rw-r--r--  2.0 unx     1276 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/wizards/queue_jobs_to_cancelled_views.xml
+-rw-r--r--  2.0 unx      429 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/wizards/queue_jobs_to_done.py
+-rw-r--r--  2.0 unx     1281 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/wizards/queue_jobs_to_done_views.xml
+-rw-r--r--  2.0 unx      765 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/wizards/queue_requeue_job.py
+-rw-r--r--  2.0 unx     1256 b- defN 23-Jun-30 07:50 odoo/addons/queue_job/wizards/queue_requeue_job_views.xml
+-rw-r--r--  2.0 unx    23960 b- defN 23-Jun-30 07:51 odoo_addon_queue_job-16.0.2.5.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-30 07:51 odoo_addon_queue_job-16.0.2.5.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-30 07:51 odoo_addon_queue_job-16.0.2.5.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     7397 b- defN 23-Jun-30 07:51 odoo_addon_queue_job-16.0.2.5.0.dist-info/RECORD
+72 files, 1192407 bytes uncompressed, 283044 bytes compressed:  76.3%
```

## zipnote {}

```diff
@@ -198,20 +198,20 @@
 
 Filename: odoo/addons/queue_job/wizards/queue_requeue_job.py
 Comment: 
 
 Filename: odoo/addons/queue_job/wizards/queue_requeue_job_views.xml
 Comment: 
 
-Filename: odoo_addon_queue_job-16.0.2.4.0.dist-info/METADATA
+Filename: odoo_addon_queue_job-16.0.2.5.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_queue_job-16.0.2.4.0.dist-info/WHEEL
+Filename: odoo_addon_queue_job-16.0.2.5.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_queue_job-16.0.2.4.0.dist-info/top_level.txt
+Filename: odoo_addon_queue_job-16.0.2.5.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_queue_job-16.0.2.4.0.dist-info/RECORD
+Filename: odoo_addon_queue_job-16.0.2.5.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/queue_job/__manifest__.py

```diff
@@ -1,12 +1,12 @@
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl.html)
 
 {
     "name": "Job Queue",
-    "version": "16.0.2.4.0",
+    "version": "16.0.2.5.0",
     "author": "Camptocamp,ACSONE SA/NV,Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/queue",
     "license": "LGPL-3",
     "category": "Generic Modules",
     "depends": ["mail", "base_sparse_field", "web"],
     "external_dependencies": {"python": ["requests"]},
     "data": [
```

## odoo/addons/queue_job/jobrunner/runner.py

```diff
@@ -138,15 +138,15 @@
 .. [2] It works with the threaded Odoo server too, although this way
        of running Odoo is obviously not for production purposes.
 """
 
 import datetime
 import logging
 import os
-import select
+import selectors
 import threading
 import time
 from contextlib import closing, contextmanager
 
 import psycopg2
 import requests
 from psycopg2.extensions import ISOLATION_LEVEL_AUTOCOMMIT
@@ -158,14 +158,16 @@
 from .channels import ENQUEUED, NOT_DONE, PENDING, ChannelManager
 
 SELECT_TIMEOUT = 60
 ERROR_RECOVERY_DELAY = 5
 
 _logger = logging.getLogger(__name__)
 
+select = selectors.DefaultSelector
+
 
 # Unfortunately, it is not possible to extend the Odoo
 # server command line arguments, so we resort to environment variables
 # to configure the runner (channels mostly).
 #
 # On the other hand, the odoo configuration file can be extended at will,
 # so we check it in addition to the environment variables.
@@ -481,18 +483,24 @@
         # if timeout is negative (ie wakeup time in the past),
         # do not wait; this should rarely happen
         # because of how get_wakeup_time is designed; actually
         # if timeout remains a large negative number, it is most
         # probably a bug
         _logger.debug("select() timeout: %.2f sec", timeout)
         if timeout > 0:
-            conns, _, _ = select.select(conns, [], [], timeout)
             if conns and not self._stop:
-                for conn in conns:
-                    conn.poll()
+                with select() as sel:
+                    for conn in conns:
+                        sel.register(conn, selectors.EVENT_READ)
+                    events = sel.select(timeout=timeout)
+                    for key, _mask in events:
+                        if key.fileobj == self._stop_pipe[0]:
+                            # stop-pipe is not a conn so doesn't need poll()
+                            continue
+                        key.fileobj.poll()
 
     def stop(self):
         _logger.info("graceful stop requested")
         self._stop = True
         # wakeup the select() in wait_notification
         os.write(self._stop_pipe[1], b".")
```

## Comparing `odoo_addon_queue_job-16.0.2.4.0.dist-info/METADATA` & `odoo_addon_queue_job-16.0.2.5.0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-queue-job
-Version: 16.0.2.4.0
+Version: 16.0.2.5.0
 Summary: Job Queue
 Home-page: https://github.com/OCA/queue
 Author: Camptocamp,ACSONE SA/NV,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo_addon_queue_job-16.0.2.4.0.dist-info/RECORD` & `odoo_addon_queue_job-16.0.2.5.0.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 odoo/addons/queue_job/README.rst,sha256=tP4VBMWqB2ei9GO33kE9sHJ604nPZKLWlG-MA880ZA0,23361
 odoo/addons/queue_job/__init__.py,sha256=uS3aPxMXHYnh_JA9jWBzfB2gW2FFYYsayN4rK7j-7MY,235
-odoo/addons/queue_job/__manifest__.py,sha256=xiQF7G25_NWNU8Ba35TV6AcSk6TW0I_eGzmUAL84eC0,1174
+odoo/addons/queue_job/__manifest__.py,sha256=CK8Ie49GsQ-kzDrUe_YfvzCHB0CqpAlpLccBcqP906E,1174
 odoo/addons/queue_job/delay.py,sha256=mLM5iToXoRLoTpfxvQXkeegv3vI1V4eUMwKI2gru1S8,19677
 odoo/addons/queue_job/exception.py,sha256=ifbsoqElAxkf_3hukkAwbEs6DdXkx4EflWIH0nVAaT0,1167
 odoo/addons/queue_job/fields.py,sha256=h8hw2ny1s1mV1x2z7wpPjVqtP9QK6XxUEYH8DZcCerk,4316
 odoo/addons/queue_job/job.py,sha256=x3vanrfUwBCK83oByzJlnXSGyMHRd2b7Wi4lzgLYLJM,27668
 odoo/addons/queue_job/post_init_hook.py,sha256=kkBwRZV0D_dGwkR_tgLpNqqtldPhNyMKBiOYT77_nKI,1087
 odoo/addons/queue_job/post_load.py,sha256=H2S-mgTCIu_hX5qR7rOlYnpgJyuyDRSn-Zl0oAHET0M,720
 odoo/addons/queue_job/utils.py,sha256=FJ-gQ4F9QSsIPtugmK_AN_tjh3wFL3td8w3Rrpi8PCg,1269
@@ -15,15 +15,15 @@
 odoo/addons/queue_job/i18n/de.po,sha256=-Ce4QXZODAMQkzk8UBbSvBt6d3huO0eh0OC6eAnxQdM,32200
 odoo/addons/queue_job/i18n/es.po,sha256=BM2VGfaMDYQljLjDUzteT2GzD4mAJjUXUkF9NmmzNBk,34156
 odoo/addons/queue_job/i18n/queue_job.pot,sha256=0REdEs9JmG6P3kSukEr0BppekkO7u7EK-k2Xz5T8C3Q,28459
 odoo/addons/queue_job/i18n/zh_CN.po,sha256=vy0TODhpotMdgyNXJ344zNA1zTODWqaOKf1UyywkE4A,31022
 odoo/addons/queue_job/jobrunner/__init__.py,sha256=Krng-na1bQJtUuUxa4KHBMz44CzQala9Dq2S-dhh8Yg,4806
 odoo/addons/queue_job/jobrunner/__main__.py,sha256=paR9F3qY-nd9i3XVjGPncZ_KW2B528GTJ4fwztTK0Ko,209
 odoo/addons/queue_job/jobrunner/channels.py,sha256=Hgu9cOkh1hppZtgiUKrFPyRs3OdL5cB0aUiUlyHUMNs,36655
-odoo/addons/queue_job/jobrunner/runner.py,sha256=cnejBarRyHrLA6OwBonT7O9mri8OIR9jNSt6ks6mLEY,18574
+odoo/addons/queue_job/jobrunner/runner.py,sha256=tq4n_ONJ5lkvSIhwmK8TIzSfn2haUARnn9LdPWtVLg8,18946
 odoo/addons/queue_job/migrations/15.0.1.1.0/post-migration.py,sha256=7_0w6qqY0_nsQj0dMcQw8uIJ1DuXsDAuux-1lPlozjo,1371
 odoo/addons/queue_job/migrations/15.0.1.1.0/pre-migration.py,sha256=cexkA8fdPPc0wdBY8Zs8xqTvpBo3oJTJHow1o4-Masc,902
 odoo/addons/queue_job/models/__init__.py,sha256=fn_NDW6Z06hMT1EuwmUk2gZGHWgBuc6OpXrPghyIQOA,138
 odoo/addons/queue_job/models/base.py,sha256=oCr6NeCmNwhokb0AjKjjDAzw5qKKRcKLd21Mrv3gQfc,10177
 odoo/addons/queue_job/models/ir_model_fields.py,sha256=0oINgoSxIIYHMipqhsZhrNLNhdWH9lvRv4Upwf7Wtk0,346
 odoo/addons/queue_job/models/queue_job.py,sha256=zI5qZuJqHQZVliVRrGQjndMVM8PcMDScA0e3CZ8rPDU,18032
 odoo/addons/queue_job/models/queue_job_channel.py,sha256=xK7IqjbmLfFt8nlJYTG8LJzcU2wskHP6IKyu56wEOEM,3417
@@ -62,11 +62,11 @@
 odoo/addons/queue_job/wizards/__init__.py,sha256=-q8BRKSzdcJ40zOzpVcT1QEmj7sSvnw9Hek1OFG4n8A,103
 odoo/addons/queue_job/wizards/queue_jobs_to_cancelled.py,sha256=NM3yA4oCHXffq_u3Q2X7nC56hfWYunynkcsVpX-Xa1M,531
 odoo/addons/queue_job/wizards/queue_jobs_to_cancelled_views.xml,sha256=QPympnoSqTB4Ao1F3t7ypy2VXsPWJOOZ_6L7eguSd4g,1276
 odoo/addons/queue_job/wizards/queue_jobs_to_done.py,sha256=WoFh_AA0TYKrQbeGfpldp8Sx7ghZ_XEVQ1zikdByaWQ,429
 odoo/addons/queue_job/wizards/queue_jobs_to_done_views.xml,sha256=nrfUZPLzs052TRTCaeUwuUmwTxrYWY1QP2gk9TJgC68,1281
 odoo/addons/queue_job/wizards/queue_requeue_job.py,sha256=VCHVDc--oFVt4tF6hp47UVSe-4m0jV75bDA-04krJRY,765
 odoo/addons/queue_job/wizards/queue_requeue_job_views.xml,sha256=OOVbTTL2jP254QO4gtl4iNne1UpjizjX5ix3FNUcAuQ,1256
-odoo_addon_queue_job-16.0.2.4.0.dist-info/METADATA,sha256=mDq8Q7ld_nPsOwIJRb3ihqgqT-Yh9Tic1E3-nD0laj0,23960
-odoo_addon_queue_job-16.0.2.4.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo_addon_queue_job-16.0.2.4.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_queue_job-16.0.2.4.0.dist-info/RECORD,,
+odoo_addon_queue_job-16.0.2.5.0.dist-info/METADATA,sha256=YiKLiCEtQh1s6evNqDsvuIFZmqAT5-MorgDhUQqkZ_g,23960
+odoo_addon_queue_job-16.0.2.5.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo_addon_queue_job-16.0.2.5.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_queue_job-16.0.2.5.0.dist-info/RECORD,,
```

