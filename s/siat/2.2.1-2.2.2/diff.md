# Comparing `tmp/siat-2.2.1-py3-none-any.whl.zip` & `tmp/siat-2.2.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 1696065 bytes, number of entries: 120
+Zip file size: 1696218 bytes, number of entries: 120
 -rw-rw-rw-  2.0 fat      840 b- defN 23-Apr-10 11:29 siat/__init__.py
 -rw-rw-rw-  2.0 fat     2130 b- defN 23-Apr-10 11:29 siat/allin.py
 -rw-rw-rw-  2.0 fat      747 b- defN 23-Apr-10 11:29 siat/alpha_vantage_test.py
 -rw-rw-rw-  2.0 fat    28555 b- defN 23-Apr-10 11:29 siat/assets_liquidity.py
 -rw-rw-rw-  2.0 fat     1285 b- defN 23-Apr-10 11:29 siat/assets_liquidity_test.py
 -rw-rw-rw-  2.0 fat    10110 b- defN 23-Apr-10 11:29 siat/barrons_scraping_test.py
 -rw-rw-rw-  2.0 fat    36597 b- defN 23-Apr-10 11:29 siat/beta_adjustment.py
@@ -51,20 +51,20 @@
 -rw-rw-rw-  2.0 fat  2047492 b- defN 23-Jun-05 00:28 siat/fund_china.pickle
 -rw-rw-rw-  2.0 fat    74734 b- defN 23-Jun-10 07:59 siat/fund_china.py
 -rw-rw-rw-  2.0 fat     6649 b- defN 23-Apr-10 11:29 siat/fund_china_test.py
 -rw-rw-rw-  2.0 fat     1116 b- defN 23-Apr-10 11:29 siat/fund_test.py
 -rw-rw-rw-  2.0 fat    17513 b- defN 23-Jun-10 08:35 siat/future_china.py
 -rw-rw-rw-  2.0 fat     1163 b- defN 23-Apr-10 11:29 siat/future_china_test.py
 -rw-rw-rw-  2.0 fat     2402 b- defN 23-Apr-10 11:29 siat/global_index_test.py
--rw-rw-rw-  2.0 fat    65802 b- defN 23-Jun-25 05:18 siat/grafix.py
+-rw-rw-rw-  2.0 fat    66109 b- defN 23-Jun-28 03:08 siat/grafix.py
 -rw-rw-rw-  2.0 fat     3150 b- defN 23-Apr-10 11:29 siat/grafix_test.py
 -rw-rw-rw-  2.0 fat    30544 b- defN 23-Apr-10 11:29 siat/holding_risk.py
 -rw-rw-rw-  2.0 fat      474 b- defN 23-Apr-10 11:29 siat/holding_risk_test.py
 -rw-rw-rw-  2.0 fat     3936 b- defN 23-Apr-10 11:29 siat/local_debug_test.py
--rw-rw-rw-  2.0 fat    31158 b- defN 23-Apr-10 11:29 siat/market_china.py
+-rw-rw-rw-  2.0 fat    31158 b- defN 23-Jun-30 14:53 siat/market_china.py
 -rw-rw-rw-  2.0 fat    95641 b- defN 23-Apr-10 13:16 siat/markowitz.py
 -rw-rw-rw-  2.0 fat     1593 b- defN 23-Apr-10 11:29 siat/markowitz_ccb_test.py
 -rw-rw-rw-  2.0 fat     4032 b- defN 23-Apr-10 11:29 siat/markowitz_ef_test.py
 -rw-rw-rw-  2.0 fat    33046 b- defN 23-Apr-10 11:29 siat/markowitz_old.py
 -rw-rw-rw-  2.0 fat     5818 b- defN 23-Apr-10 11:29 siat/markowitz_test.py
 -rw-rw-rw-  2.0 fat     2193 b- defN 23-Apr-11 06:52 siat/markowitz_test2.py
 -rw-rw-rw-  2.0 fat    86874 b- defN 23-Apr-10 11:29 siat/ml_cases.py
@@ -85,15 +85,15 @@
 -rw-rw-rw-  2.0 fat   101523 b- defN 23-May-27 06:22 siat/sector_china.py
 -rw-rw-rw-  2.0 fat     5843 b- defN 23-Apr-11 14:17 siat/sector_china_test.py
 -rw-rw-rw-  2.0 fat    29185 b- defN 23-May-25 02:36 siat/security_price.py
 -rw-rw-rw-  2.0 fat    72866 b- defN 23-Jun-19 07:51 siat/security_prices.py
 -rw-rw-rw-  2.0 fat    10779 b- defN 23-Apr-10 11:29 siat/security_prices_test.py
 -rw-rw-rw-  2.0 fat     1335 b- defN 23-Apr-10 11:29 siat/setup.py
 -rw-rw-rw-  2.0 fat     1418 b- defN 23-Apr-10 11:29 siat/shenwan index history test.py
--rw-rw-rw-  2.0 fat   128884 b- defN 23-Jun-27 02:43 siat/stock.py
+-rw-rw-rw-  2.0 fat   129095 b- defN 23-Jun-30 14:58 siat/stock.py
 -rw-rw-rw-  2.0 fat    31655 b- defN 23-Apr-10 11:29 siat/stock_advice_linear.py
 -rw-rw-rw-  2.0 fat     1312 b- defN 23-Apr-10 11:29 siat/stock_base.py
 -rw-rw-rw-  2.0 fat    82785 b- defN 23-Jun-17 02:52 siat/stock_china.py
 -rw-rw-rw-  2.0 fat     1294 b- defN 23-Jun-14 07:32 siat/stock_china_test.py
 -rw-rw-rw-  2.0 fat  1266744 b- defN 23-Jun-05 00:13 siat/stock_info.pickle
 -rw-rw-rw-  2.0 fat     6122 b- defN 23-Apr-10 11:29 siat/stock_info_test.py
 -rw-rw-rw-  2.0 fat     1014 b- defN 23-Apr-10 11:29 siat/stock_list_china_test.py
@@ -111,12 +111,12 @@
 -rw-rw-rw-  2.0 fat   118133 b- defN 23-Apr-10 11:29 siat/translate-20230206.py
 -rw-rw-rw-  2.0 fat   121657 b- defN 23-Apr-10 11:29 siat/translate-20230215.py
 -rw-rw-rw-  2.0 fat   133928 b- defN 23-Jun-18 17:34 siat/translate.py
 -rw-rw-rw-  2.0 fat     3936 b- defN 23-Apr-10 11:29 siat/universal_test.py
 -rw-rw-rw-  2.0 fat    51342 b- defN 23-May-11 00:30 siat/valuation_china.py
 -rw-rw-rw-  2.0 fat     1571 b- defN 23-Apr-10 11:29 siat/valuation_market_china_test.py
 -rw-rw-rw-  2.0 fat    14859 b- defN 23-Apr-10 11:29 siat/var_model_validation.py
--rw-rw-rw-  2.0 fat     1410 b- defN 23-Jun-27 03:02 siat-2.2.1.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Jun-27 03:02 siat-2.2.1.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        5 b- defN 23-Jun-27 03:02 siat-2.2.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     9602 b- defN 23-Jun-27 03:02 siat-2.2.1.dist-info/RECORD
-120 files, 7749424 bytes uncompressed, 1681425 bytes compressed:  78.3%
+-rw-rw-rw-  2.0 fat     1410 b- defN 23-Jun-30 15:09 siat-2.2.2.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jun-30 15:09 siat-2.2.2.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        5 b- defN 23-Jun-30 15:09 siat-2.2.2.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     9602 b- defN 23-Jun-30 15:09 siat-2.2.2.dist-info/RECORD
+120 files, 7749942 bytes uncompressed, 1681578 bytes compressed:  78.3%
```

## zipnote {}

```diff
@@ -342,20 +342,20 @@
 
 Filename: siat/valuation_market_china_test.py
 Comment: 
 
 Filename: siat/var_model_validation.py
 Comment: 
 
-Filename: siat-2.2.1.dist-info/METADATA
+Filename: siat-2.2.2.dist-info/METADATA
 Comment: 
 
-Filename: siat-2.2.1.dist-info/WHEEL
+Filename: siat-2.2.2.dist-info/WHEEL
 Comment: 
 
-Filename: siat-2.2.1.dist-info/top_level.txt
+Filename: siat-2.2.2.dist-info/top_level.txt
 Comment: 
 
-Filename: siat-2.2.1.dist-info/RECORD
+Filename: siat-2.2.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## siat/grafix.py

```diff
@@ -1062,16 +1062,17 @@
     
 if __name__=='__main__':
     title_txt="Stock Risk \nCAPM Beta Trends"
     draw_lines(df,"market line",1.0,"Beta coefficient","",title_txt)    
 
 #==============================================================================
 def draw_lines2(df0,y_label,x_label,axhline_value,axhline_label,title_txt, \
-               data_label=False,resample_freq='6H',smooth=True, \
-               date_range=False,date_freq=False,date_fmt='%Y-%m-%d'):
+               data_label=False,resample_freq='6H',smooth=False, \
+               date_range=False,date_freq=False,date_fmt='%Y-%m-%d', \
+               colorlist=[],lslist=[],lwlist=[]):
     """
     函数功能：根据df的内容绘制折线图
     输入参数：
     df：数据框。有几个字段就绘制几条折现。必须索引，索引值将作为X轴标记点
     要求：df的索引为pandas的datetime日期型
     axhline_label: 水平辅助线标记。如果为空值则不绘制水平辅助线
     axhline_value: 水平辅助线的y轴位置
@@ -1116,15 +1117,24 @@
         plt.xticks(pd.date_range(date_start,date_end,freq=date_freq))    
         
     #取得df字段名列表
     collist=df.columns.values.tolist()  
     
     #绘制折线图    
     for c in collist:
-        plt.plot(df[c],label=c,linewidth=2)
+        pos=collist.index(c)
+        try:
+            lcolor=colorlist[pos]
+            lls=lslist[pos]
+            llw=lwlist[pos]
+        except:
+            plt.plot(df[c],label=c,linewidth=2)
+        else:
+            plt.plot(df[c],label=c,linewidth=llw,ls=lls,color=lcolor)
+        
         #为折线加数据标签
         if data_label==True:
             for a,b in zip(df.index,df[c]):
                 plt.text(a,b+0.02,str(round(b,2)), \
                          ha='center',va='bottom',fontsize=7)
     
     #绘制水平辅助线
```

## siat/market_china.py

```diff
@@ -592,22 +592,22 @@
         if prettytab:
             market_detail_china2table(df,titletxt=titletxt)
         if plttab:
             pandas2plttable(df,titletxt=titletxt,colWidth=colWidth,tabScale=tabScale, \
                             figsize=figsize,fontsize=fontsize,cellLoc=cellLoc)
         
         print(heading,"信息来源：东方财富，","统计时间:",nowstr)
-        print(heading,"注：")
+        print(heading,"注释：")
         print(heading,"☆昨日指的是上一个交易日")
         print(heading,"☆使用实时数据，不同日期/每天不同时刻统计的结果可能不同")
         print(heading,"☆若在非开市时间统计，部分结果数据可能出现空缺")
         print(heading,"☆涨速：平均每分钟股价变化率，表示股价变化速度")
         print(heading,"☆振幅：最高最低价差绝对值/昨收，表示股价变化活跃程度")
         print(heading,"☆涨跌幅：(最新价-昨收)/昨收，表示相对昨日的变化程度")
-        print(heading,"☆涨跌额：最新价-昨收，，表示相对昨日的变化金额")
+        print(heading,"☆涨跌额：最新价-昨收，表示相对昨日的变化金额")
         print(heading,"☆5分钟涨跌：最新5分钟内股价的涨跌幅度")
         print(heading,"☆可交易股票数量：将随着股票停复牌情况变化")
     
     if category1=='VOLUME':
         titletxt="中国三大股票交易所横向对比：成交状况"
         if prettytab:
             market_detail_china2table(df,titletxt=titletxt)
```

## siat/stock.py

```diff
@@ -770,35 +770,40 @@
     # 滚动均值与标准差
     pricedf['bmiddle']=pricedf["Close"].rolling(window=boll_days).mean()
     pricedf['bsd']=pricedf["Close"].rolling(window=boll_days).std()
     pricedf['bupper']=pricedf["bmiddle"] + pricedf['bsd']*2
     pricedf['blower']=pricedf["bmiddle"] - pricedf['bsd']*2
     
     df=pricedf[['bupper','bmiddle','blower','Close']]
-    df.rename(columns={'Close':'收盘价','bmiddle':'中界线','bupper':'压力线','blower':'支撑线'},inplace=True)
+    df.rename(columns={'bupper':'上(压力)线','bmiddle':'中(界)线','blower':'下(支撑)线','Close':'收盘价'},inplace=True)
 
     # 截取时间段
     result,start,end=check_period(fromdate,todate)
     df1=df[(df.index >= start) & (df.index <= end)]
 
     y_label='证券指标'
     import datetime; today = datetime.date.today()
     x_label="数据来源：新浪/东方财富/stooq/雅虎财经，"+str(today)
 
     axhline_value=0
     axhline_label=''
     title_txt="证券价格布林带趋势："+codetranslate(ticker)            
     
-    if annotate:
+    """
         draw_lines(df1,y_label,x_label,axhline_value,axhline_label,title_txt, \
                    data_label=False,resample_freq='H',smooth=smooth,loc=loc,annotate=annotate)
-    else:
-        draw_lines2(df1,y_label,x_label,axhline_value,axhline_label,title_txt, \
-                   data_label=False,resample_freq='6H',smooth=smooth, \
-                   date_range=date_range,date_freq=date_freq,date_fmt='%Y-%m-%d')
+    """
+    #plt.rcParams['axes.facecolor']='gray'
+    colorlist=['orange','black','purple','red']
+    lslist=['--',':','-.','-']
+    lwlist=[2.0,2.0,2.0,2.5]
+    draw_lines2(df1,y_label,x_label,axhline_value,axhline_label,title_txt, \
+               data_label=False,resample_freq='6H',smooth=smooth, \
+               date_range=date_range,date_freq=date_freq,date_fmt='%Y-%m-%d', \
+               colorlist=colorlist,lslist=lslist,lwlist=lwlist)
 
     return df1
 
 #==============================================================================
 def stock_price_volatility(ticker,fromdate,todate,type="Weekly Price Volatility", \
                            datatag=False,power=0,graph=True):
     """
```

## Comparing `siat-2.2.1.dist-info/METADATA` & `siat-2.2.2.dist-info/METADATA`

 * *Files 7% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: siat
-Version: 2.2.1
+Version: 2.2.2
 Summary: Securities Investment Analysis Tools (siat)
 Home-page: https://pypi.org/project/siat/
 Author: Prof. WANG Dehong, Business School, BFSU (北京外国语大学 国际商学院 王德宏 教授)
 Author-email: wdehong2000@163.com
 License: Copyright (C) WANG Dehong, 2023. For educational purpose only!
 Platform: UNKNOWN
 Requires-Dist: pandas-datareader
```

## Comparing `siat-2.2.1.dist-info/RECORD` & `siat-2.2.2.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -50,20 +50,20 @@
 siat/fund_china.pickle,sha256=hsPjNAQtvCMTPQV5lFk3sS7cngetWaxFvdyEtNvnU14,2047492
 siat/fund_china.py,sha256=UOYUGxYdRV0i4VNqzROHxD65K6dyd-U4zKagkUTTAuk,74734
 siat/fund_china_test.py,sha256=-Bh6m0J0GPpIbYXx-H2vpzJoNFI6pE2C2jVPa8DazgE,6649
 siat/fund_test.py,sha256=V4ADb8Gsp8gyeFTwcgRsJBpnUih_O-Q2V1ILc5oKjK8,1116
 siat/future_china.py,sha256=PCHpxxC-eBDo3P_nkSeQzMnVCt-H7YAZEDJcxfkdnuU,17513
 siat/future_china_test.py,sha256=BrSzmDVaOHki6rntOtosmRn-6dkfOBuLulJNqh7MOpc,1163
 siat/global_index_test.py,sha256=hnFp3wqqzzL-kAP8mgxDZ54Bd5Ijf6ENi5YJlGBgcXw,2402
-siat/grafix.py,sha256=8b0Swf66xXVQlB0aGgQwrO2Vs8baNCaOMfvozOtPv4c,65802
+siat/grafix.py,sha256=X31OzzrcGTZfKH92h4DB-DI9XJTUaAHVPRugKvHfwLQ,66109
 siat/grafix_test.py,sha256=kXvcpLgQNO7wd30g_bWljLj5UH7bIVI0_dUtXbfiKR0,3150
 siat/holding_risk.py,sha256=108tiI7DDl8uUZkyUiq6Y-McKeim1mxYsgqgk7CcXw8,30544
 siat/holding_risk_test.py,sha256=FRlw_9wFG98BYcg_cSj95HX5WZ1TvkGaOUdXD7-V86s,474
 siat/local_debug_test.py,sha256=CDAOffW1Rvs-TcNN5giWVvHMlch1w4dp-w5SIV9jXL0,3936
-siat/market_china.py,sha256=2_ov1KQwRtHQ6PXNO1TS4-wUPhBuoWla326g0x_xUgQ,31158
+siat/market_china.py,sha256=5dV-i5ngEdVXmbXbAghpxdnUIYzFV3l0CuttZcXCGdc,31158
 siat/markowitz.py,sha256=g3P-UripHV_VwtQetdGaPtfmRsFUxQICqmtF4Pp6C3k,95641
 siat/markowitz_ccb_test.py,sha256=xBkkoaNHdq9KSUrNuHGgKTdNYUvgi84kNYcf719eoyE,1593
 siat/markowitz_ef_test.py,sha256=wjNlICkgRIqnonPeSIHo4Mu2GRtb9dr21wDt2kMNEcI,4032
 siat/markowitz_old.py,sha256=Lf7O_4QWT8RsdkHiUyc_7kKY3eZjKDtFR89Fz3pwYnY,33046
 siat/markowitz_test.py,sha256=fDXoPp6DrKeneYjd0lbb0KfYUJj-VcOvVaPlfsIOstw,5818
 siat/markowitz_test2.py,sha256=FcVZqYU5va4567WGUVUJ7cMQdVbBGxeBAz82Y3BhCTI,2193
 siat/ml_cases.py,sha256=FYDk0O7l9hhHlbrlOVGgbH-h2DA503lhKFi9XugH1f0,86874
@@ -84,15 +84,15 @@
 siat/sector_china.py,sha256=sHd7nlYWCK0SWAZbu-BLn-3vNPe2E8OFaDFYF67Hoho,101523
 siat/sector_china_test.py,sha256=1wq7ef8Bb_L8F0h0W6FvyBrIcBTEbrTV7hljtpj49U4,5843
 siat/security_price.py,sha256=2oHskgiw41KMGfqtnA0i2YjNNV6cYgtlUK0j3YeuXWs,29185
 siat/security_prices.py,sha256=aqAG7vuGMX6sXkNDyJN0uCU2G6b4lmM9Hq-wQbi-5dA,72866
 siat/security_prices_test.py,sha256=OEphoJ87NPKoNow1QA8EU_5MUYrJF-qKoWKNapVfZNI,10779
 siat/setup.py,sha256=up65rQGLmTBkhtaMLowjoQXYmIsnycnm4g1SYmeQS6o,1335
 siat/shenwan index history test.py,sha256=JCVAzOSEldHalhSFa3pqD8JI_8_djPMQOxpkuYU-Esg,1418
-siat/stock.py,sha256=pKa59PIILDCCS78v9Eu68Hd0B5aHieE8tYf8q1gnPjw,128884
+siat/stock.py,sha256=NMLW7Fpnnq5BAG2eAZWFYJXWyv9gsGIpuWQvGA0akUI,129095
 siat/stock_advice_linear.py,sha256=-twT7IGP-NEplkL1WPSACcNJjggRB2j4mlAQCkzOAuo,31655
 siat/stock_base.py,sha256=uISvbRyOGy8p9QREA96CVydgflBkn5L3OXOGKl8oanc,1312
 siat/stock_china.py,sha256=jVSuCWr6TaTx0Y0sgqN-dU9ZL72uKiI_MzvugvH9NaI,82785
 siat/stock_china_test.py,sha256=eO4HWsSvc6qezl0LndjtL24lViEyrBjH_sx2c2Y2Q2M,1294
 siat/stock_info.pickle,sha256=o4M-pcN8Sh8QiwZQAZWY1aelI4xgIGIxors7n2uHSJI,1266744
 siat/stock_info_test.py,sha256=gfG3DbhDACbtD8wnv_R6zhj0t11XaC8NX8uLD9Qv3Fo,6122
 siat/stock_list_china_test.py,sha256=gv14UwMMvkZqtb6G7DCTSuehIwVHuVwu7w60p6gyHoo,1014
@@ -110,11 +110,11 @@
 siat/translate-20230206.py,sha256=-vtI125WyaJhmPotOpDAmclt_XnYVaWU9ByLWZ6FyYE,118133
 siat/translate-20230215.py,sha256=TJgtPE3n8IjljmZ4Pefy8dmHoNdFF-1zpML6BhA9FKE,121657
 siat/translate.py,sha256=nS9gqygAkb-2M2utEjucdw-5kWe7hCrDW1OqX3sed7E,133928
 siat/universal_test.py,sha256=CDAOffW1Rvs-TcNN5giWVvHMlch1w4dp-w5SIV9jXL0,3936
 siat/valuation_china.py,sha256=gYYXeT9bBPyQ251TCsYlibWcu6JA8x-YOKqLUEeLE7U,51342
 siat/valuation_market_china_test.py,sha256=gbJ0ioauuo4koTPH6WKUkqcXiQPafnbhU5eKJ6lpdLA,1571
 siat/var_model_validation.py,sha256=zB_Skk_tmzIR15l6oAW3am4HBGVIG-eZ8gJhCdXZ8Qw,14859
-siat-2.2.1.dist-info/METADATA,sha256=JsyJp8nbz40mqFLdkr8Ll8GKXpF5JMKBPb_Np2I53cg,1410
-siat-2.2.1.dist-info/WHEEL,sha256=ewwEueio1C2XeHTvT17n8dZUJgOvyCWCt0WVNLClP9o,92
-siat-2.2.1.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
-siat-2.2.1.dist-info/RECORD,,
+siat-2.2.2.dist-info/METADATA,sha256=wF7efYmM0jIGjmAZJxgvbXgv9eeVxIYxvCWvZ9dTbAM,1410
+siat-2.2.2.dist-info/WHEEL,sha256=ewwEueio1C2XeHTvT17n8dZUJgOvyCWCt0WVNLClP9o,92
+siat-2.2.2.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
+siat-2.2.2.dist-info/RECORD,,
```

